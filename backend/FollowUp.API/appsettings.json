{
  "_comment": "SECRETS REMOVED: Use 'dotnet user-secrets' for development or environment variables for production",
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\FollowUpTest;Database=FollowUp;Trusted_Connection=True;MultipleActiveResultSets=true"
  },
  "JwtSettings": {
    "SecretKey": "",
    "_SecretKeyNote": "SECURITY FIX: Secret removed! Set via environment variable JwtSettings__SecretKey. Must be 32+ characters",
    "_Instructions": "For development: Set in Visual Studio user secrets. For production: Set JwtSettings__SecretKey environment variable",
    "Issuer": "FollowUpAPI",
    "Audience": "FollowUpClient",
    "ExpirationMinutes": 1440,
    "RefreshTokenExpirationDays": 7
  },
  "Firebase": {
    "ProjectId": "followupbzu",
    "CredentialsPath": "followupbzu-firebase-adminsdk-fbsvc-207eb8311d.json",
    "_Note": "Firebase Admin SDK credentials for push notifications - Generate from Firebase Console > Project Settings > Service Accounts"
  },
  "DeveloperMode": {
    "DisableGeofencing": true,
    "DisableDeviceBinding": true,
    "_Note": "Testing/Demo mode - DisableGeofencing: skips zone validation. DisableDeviceBinding: allows login from any device. Set BOTH to FALSE for production!"
  },
  "MunicipalitySettings": {
    "Name": "FollowUp",
    "NameEnglish": "FollowUp System",
    "Code": "DEFAULT",
    "DefaultGpsToleranceMeters": 100,
    "AllowIndoorTasks": true,
    "RequirePhotoForCompletion": true,
    "_Note": "إعدادات البلدية الافتراضية - تُغيّر عند نشر النظام لبلدية جديدة"
  },
  "TaskSettings": {
    "MaxTasksPerWorker": 15,
    "MaxReassignments": 3,
    "ProgressUpdateIntervalMinutes": 5,
    "DefaultMaxDistanceMeters": 50,
    "_Note": "إعدادات المهام - الحد الأقصى للمهام لكل عامل"
  },
  "SupervisorSettings": {
    "MaxWorkersPerSupervisor": 20,
    "MinWorkersPerSupervisor": 1,
    "_Note": "إعدادات المشرفين - الحد الأقصى والأدنى للعمال"
  },
  "LocationSettings": {
    "MaxGpsAccuracyMeters": 100,
    "GpsTimeoutSeconds": 30,
    "LocationUpdateIntervalMinutes": 5,
    "_Note": "إعدادات GPS - دقة الموقع والمهلة الزمنية"
  },
  "AttendanceSettings": {
    "DefaultGraceMinutes": 15,
    "DefaultWorkStartTime": "08:00",
    "DefaultWorkEndTime": "16:00",
    "AllowManualAttendance": true,
    "_Note": "إعدادات الحضور - فترة السماح وأوقات العمل"
  },
  "AppSettings": {
    "BaseUrl": "http://192.168.1.5:5000",
    "_Note": "Base URL for photo/file access "
  },
  "Cors": {
    "ProductionOrigins": ["https://followup.ps", "https://www.followup.ps"],
    "_Note": "Allowed origins for production CORS policy"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 60
      },
      {
        "Endpoint": "*",
        "Period": "15m",
        "Limit": 300
      },
      {
        "Endpoint": "*",
        "Period": "1h",
        "Limit": 1000
      }
    ],
    "EndpointWhitelist": [
      "get:/api/health",
      "get:/swagger/*"
    ]
  },
  "IpRateLimitPolicies": {
    "IpRules": [
      {
        "Ip": "127.0.0.1",
        "Rules": [
          {
            "Endpoint": "*",
            "Period": "1s",
            "Limit": 1000
          }
        ]
      }
    ]
  }
}
